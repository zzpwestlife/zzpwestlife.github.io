---
title: 高并发大流量解决方案 5 建立独立的图片服务器
date: 2018-02-15 16:33:02
tags: 高并发
---

## 独立图片服务器的部署

#### 1. 独立的必要性

- 分担web服务器的I/O负载：将耗费资源的图片服务分离出来，提高服务器的性能和稳定性。
- 能够专门对图片服务器进行优化：为图片服务设置有针对性的缓存方案（如针对I/O较高的问题，增加硬盘转数），减少带宽成本（不需要太多计算，调低CPU性能），提高访问速度（可以做图片服务器集群）。
- 提高网站的可扩展性：通过增加图片服务器，提高图片吞吐能力。

<!-- more -->

#### 2. 采用独立域名（不是二级域名）
原因：
- 同一域名下浏览器的并发连接数有限制（通常为2-6个），为突破浏览器连接数的限制，可采用独立域名。
- 由于 cookie 的原因，对缓存不利，大部分 web cache 都只缓存不带 cookie 的请求，导致每次的图片请求都不能命中 cache

#### 3. 独立后的问题

##### 1. 如何进行图片上传和图片同步？
- NFS 共享方式
- FTP 同步
- 七牛云等第三方服务